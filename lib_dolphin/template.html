<html>
  <head>
    <script type="text/javascript">
      function paint(id, regions, ips) {
	  var img = document.getElementById(id  + "_img");
	  var cnvs = document.getElementById(id + "_canvas");
	  var th = document.getElementById("threshold").value / 100.0;	  	  
	  var value = document.getElementById("th_val")
	  value.innerHTML = "" + th;
  
	  cnvs.style.position = "absolute";
	  cnvs.style.left     = img.offsetLeft + "px";
	  cnvs.style.top      = img.offsetTop + "px";
	  cnvs.width          = img.width;
	  cnvs.height         = img.height;
	  var ctx = cnvs.getContext("2d");	 

	  ctx.fillStyle = 'red'
	  var i;	 
	  for (i = 0; i < ips.length; i++) {
	      ctx.fillRect(ips[i].t - 1, ips[i].f - 1, 3, 3);
	  }
	  for (i = 0; i < regions.length; i++) {
	      if(regions[i].prob > th) {	      
		  var start = regions[i].start / 128;
		  var stop  = regions[i].stop  / 128;
	      
		  ctx.font="8px arial,serif";
		  ctx.fillStyle = "red";
		  ctx.textAlign = "center";
		  ctx.fillText(regions[i].annotation, start, 30);	      
		  ctx.fillStyle = regions[i].color;
		  ctx.fillRect(start, 0, stop - start, 256);
	      }
	  }	 
      }
      function init() {
	  JS_HERE
      }
    </script>
  </head>
  <body onload='init()'>
    <div class="slidecontainer">
      <input type="range" min="0" max="100" value="50" class="slider" id="threshold" onchange="init()">
    </div>
    <div id="th_val"></div>
    HTML_HERE
  </body>
</html>
